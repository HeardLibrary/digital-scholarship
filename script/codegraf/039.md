---
permalink: /script/codegraf/039/
title: CodeGraf - Sensors with CircuitPython - Programming the board
breadcrumb: O39
---

Previous lesson: [Circuit Python background](../038)

# Sensors with CircuitPython: Programming the board on Windows

Instructions created: 20220216 (i.e., Feb 16, 2022)
- **WARNING:** Image screenshots are consistent only with the date this documented was created on. As such, their accurary is dependant on  not be entirely relied on.

**Learning objectives** At the end of this lesson, the learner will be able to:
- Describe how to connect CircuitPython with a QT Py RP2040 board
- Install a python code editor to communicate with your QT Py RP2040 board
- 
- Connect a sensor to your QT Py RP2040 board 

Total video time: n/a

# Links

[Lesson Jupyter notebook at GitHub]()

[Lesson Colab notebook]()


----


## Setting up CircuitPython and the QT Py RP2040 board on your computer

1\. Install the "Operating system" (i.e., CircuitPython) for the board (i.e., QT Py RP2040) into your computer

* **Open [https://circuitpython.org/board/adafruit_qtpy_rp2040/](https://circuitpython.org/board/adafruit_qtpy_rp2040/) link**
* **Download** latest stable release of CircuitPython **.UF2 file** (i.e., <span style="color:purple">**purple**</span> "DOWNLOAD .UF2 NOW") for the QT Py RP2040 
	* **Save** the file **in a secure and accessible location** in your computer. 
	* As of writing this document (i.e., Feb 10, 2022) the latest version is "adafruit-circuitpython-adafruit_qtpy_rp2040-en_US-7.1.1.uf2"
	* **ALERT:** DO NOT try to open the file.
	
<img src="../images/circuit_python_instruction_images_videos/circuit_python_7x_uf2_file.png" style="border:1px solid black">

2\. Connect the board to your computer with a usb cable

* Connect the QT Py RP2040 board to your computer with a USB cable
* **Open [learn.adafruit.com](https://learn.adafruit.com/assets/101680) link**
	* In the link, you should see a diagram of the QT Py RP2040 board with a <span style="color:red">**red**</span> and <span style="color:blue">**blue**</span> square around two buttons. 
	* **remember** where the <span style="color:red">**red**</span> **button** is, also known as the boot button.
* With a usb cable, **connect** a **type-c** end **to** the **board**.
	* **ALERT:** *DO NOT* connect the board to your computer, yet
* **While holding onto the** <span style="color:red">**red**</span> **button**, located in the center, **connect** the other end of **the usb cable to your computer**.
	* Notice: once you connect the drive to your computer, your computer will recognize the board as an external drive (e.g, usb drive). Ignore the notification prompt. You can stop holding onto the red button now.

NOTE_to_SELF: []() add photo/or video of you connecting the board to the lap top while holding the "red" button

* If **done sucessfully**, you'll have a **notification** similar to connecting an **external drive** (e.g., usb drive). You can view the "drive" in your file explorer **named "RPI-RP2"**
	* Reminder: think of the board as the hardware (i.e., computer) and the .UF2 file as the "operating system" (e.g., Windows 10, OS X, etc.) necessary for the board to run.

<a href="https://imgur.com/Zwm2oKG"><img src="https://i.imgur.com/Zwm2oKG.mp4" title="source: imgur.com" /></a>
<img src="https://imgur.com/a/DUYEqEL" style="border:1px solid black" />
[Imgur](https://i.imgur.com/Zwm2oKG.mp4)

![connecting board to device gif external drive notification]("../images/circuit_python_instruction_images_videos/Video_connecting_board_with_windows_notification_220301131006.gif")



3\. Connect the "operating system" (i.e., .UF2 file) and the board (i.e., QT Py RP2040) 

* Open your file explorer and locate where the .UF2 file you downloaded in Step 1 is  
* **copy and paste** or *drag and drop* the "operating system" (i.e., **.UF2 file**) **into the external drive** (i.e., RPI-RP2) you connected in step 2
	* *Notice:* if you need help finding where these two are ask someone for help
* if **done successfully**, the **external drive** is **renamed** to **"CIRCUITPY"**

<img src="https://imgur.com/Gc5zv9S" style="border:1px solid black" />
<a href="https://imgur.com/Gc5zv9S"><img src="https://i.imgur.com/Gc5zv9S.mp4" title="source: imgur.com" /></a>
[Imgur](https://i.imgur.com/Gc5zv9S.mp4)

NOTE_to_SELF: []() add a gif/screencapture of you copying and pasting the .UF2 file to the board
- [gif-screen-capture](https://www.howtogeek.com/286210/how-to-turn-your-computer-screen-into-an-animated-gif/#:~:text=To%20do%20this%2C%20first%20find%20the%20frame%20where,the%20frames%20from%200.0%20seconds%20to%202.1%20seconds.)
- [gif-screen-capture_2](https://www.aiseesoft.com/resource/gif-screen-capture.html)


## Downloading a Python code editor (i.e., [Mu editor](https://codewith.mu/en/about)) and [Circuit Python Library Bundle](https://circuitpython.org/libraries)

1\. Download the Mu Editor

* **Open [https://codewith.mu/en/download](https://codewith.mu/en/download) link**  
* Select your operating system (i.e., Windows or Mac OSX) and start to **download** the **Mu Editor** **in a secure and accessible location** in your computer
	* *Notice*: Ask for help if you cant download Mu Editor. A "Mu Editor isn't commonly downloaded" warning migth appear for some computers. You need to specify that you trust Mu Editor, "keep anyway," and to proceed downloading the editor.
* Navigate to the location of the Mu Editor in your File Explorer and proceed to **install** the **Mu Editor**, this might take a few minutes (e.g., ~5 min). If the editor doesnt open in 5 min, ask for help.
* Once the Mu Editor launches **set** the **mode to "Circuit Python."**
	* if you accidentally picked another mode (i.e., NOT "Circuit Python"), you can reset the mode by clicking the "mode" icon on the top left of the Mu Editor.


NOTE_to_SELF: this next part might not be needed
* At this point, you are ready to communicate with the board by loading/writing code scripts (i.e., instructions) into the editor and running/saving the editor
	* For this workshop we have preconstructed boiler plated code for you to copy and paste into the editor.


2\. Download circuit python library bundle for version 7.x (i.e., "adafruit-circuitpython-bundle-7.x-mpy-2022XXXX.zip")

* **Open [https://circuitpython.org/libraries](https://circuitpython.org/libraries) link**
* **Scroll down** the site **to "Bundles" and "Bundles for Version 7.x"**
* **Download** CircuitPython 7.x.x (i.e., <span style="color:purple">**"purple"**</span> **""adafruit-circuitpython-bundle-7.x-mpy-2022XXXX.zip"**) 
	* **Save** the file **in a secure and accessible location** in your computer. 
	* As of writing this document (i.e., Feb 10, 2022) the latest version is "adafruit-circuitpython-bundle-7.x-mpy-20220214.zip
* Navigate to the location of the "CircuitPython-bundle-7.x.x" and **unzip** (i.e., "extract all") the **"CircuitPython-bubdle-7.x.x"** folder
	* if you are unfamiliar with "unzping" folder please ask for assistance. We are more than happy to help.
	
<img src="../images/circuit_python_instruction_images_videos/circuit_python_bundles_version7x_screenshot.png" style="border:1px solid black">


3\. "Installing" Modules from the CircuitPython Library Bundle into our CIRCUITPY External Drive board

* After you finish unziping/extracting there are 2 .mpy files (i.e., adafruit_vcnl4040.mpy and neopixel.mpy) we will copy and paste, or drag and drop into the board (i.e., CIRCUITPY external drive in your File Explorer)
	* These files are "modules" (i.e., set of prewritten python code) we will use in this workshop.
	* This step is similar to *Step 3. Connect the "operating system" (i.e., .UF2 file) and the board (i.e., QT Py RP2040)* from the "Setting up CircuitPython and the QT Py RP2040 board on your computer" section of these instructions
* **Open** the **"adafruit-circuitpython-bundle-7.x-mpy-2022XXXX" folder** in your file explorer and navigate to the "lib" folder within. In there, you'll find the two .mpy files (i.e., adafruit_vcnl4040.mpy and neopixel.mpy)
	* adafruit_vcnl4040.mpy file path location: C:\Users\...\circuit_python\adafruit-circuitpython-bundle-7.x-mpy-20220209\lib\adafruit_vcnl4040.mpy
	* neopixel.mpy file path location: C:\Users\...\circuit_python\adafruit-circuitpython-bundle-7.x-mpy-20220209\lib\neopixel.mpy
* **copy and paste** or *drag and drop* the modules (i.e., **adafruit_vcnl4040.mpy and neopixel.mpy**) **in** the **lib folder into** the board (i.e., **CIRCUITPY (D:)**)

NOTE_to_SELF: []() screen capture of you doing exactly this. copying and pasting the two files and then adding them into the board


## Connecting a sensor (i.e., Adafruit VCNL 4040) with a stemma QT cable (i.e., JST SH 4-Pin Cable 50mm long) to our QT Py RP2040 board

1\. **Connect** the **sensor** (i.e., Adafruit VCNL 4040) **with the stemma QT cable** (i.e., JST SH 4-Pin Cable 50mm long)
* take a stemma QT cable and connect to one end of the sensor (i.e., Adafruit VCNL 4040)
	* The stemma QT cable only fits one direction.
* Connect the other end of the stemma QT cable to the board
	* if **done successfully**, the **sensor's light turns on**

NOTE_to_SELF: record you connecting the stemma cable to the board then the senor. show an "incorrect" insertion the flip it and record the corred method. then connect the sensor and make sure you record the light turning on and a thumbs up at the end.

Next lession: [Running sensors remotely](../040)

----
Revised 2022-01-18
